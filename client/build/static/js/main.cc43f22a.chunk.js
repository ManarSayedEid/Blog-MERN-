(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{46:function(e,t,c){},74:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),r=c(17),s=c.n(r),o=(c(46),c(10)),i=c(19),l=c(39),u=c(40),j=c(3),b={token:localStorage.getItem("token"),isLogged:null,user:null},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_lOADED":case"IMG_LOADED":return Object(j.a)(Object(j.a)({},e),{},{user:t.payload,isLogged:!0});case"REGISTER_SUCCESS":case"LOGIN_SUCCESS":return localStorage.setItem("token",t.payload.token),Object(j.a)(Object(j.a)({},e),{},{isLogged:!0},t.payload);case"REGISTER_FAIL":case"LOGIN_FAIL":case"USER_lOADING_FAIL":case"LOGOUT":return localStorage.removeItem("token"),Object(j.a)(Object(j.a)({},e),{},{isLogged:!1,token:null,user:null});default:return e}},p={profile:null},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PROFILE_LOADED":case"GET_PROFILES":return Object(j.a)(Object(j.a)({},e),{},{profile:t.payload});case"DELETE_PROFILE":return{profile:null};case"PROFILE_FAILED":case"LOGOUT":return Object(j.a)(Object(j.a)({},e),{},{profile:null});default:return e}},h=c(41),f={posts:[],post:null},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0,c=t.type,a=t.payload;switch(c){case"GET_POSTS":return Object(j.a)(Object(j.a)({},e),{},{posts:a});case"ADD_POST":return Object(j.a)(Object(j.a)({},e),{},{posts:[a].concat(Object(h.a)(e.posts))});case"ADD_COMMENT":return Object(j.a)(Object(j.a)({},e),{},{post:Object(j.a)(Object(j.a)({},e.post),{},{comments:a})});case"DELETE_COMMENT":return Object(j.a)(Object(j.a)({},e),{},{post:Object(j.a)(Object(j.a)({},e.post),{},{comments:e.post.comments.filter((function(e){return e._id!==a}))})});case"GET_POST":return Object(j.a)(Object(j.a)({},e),{},{post:a});case"LIKE_STATUS":return Object(j.a)(Object(j.a)({},e),{},{posts:e.posts.map((function(e){return e._id===a.postId?Object(j.a)(Object(j.a)({},e),{},{likes:a.likes}):e}))});case"POSTS_ERROR":return Object(j.a)({},e);case"DELETE_POST":return Object(j.a)(Object(j.a)({},e),{},{posts:e.posts.filter((function(e){return e._id!==a}))});default:return e}},g=Object(i.combineReducers)({Auth:d,profile:O,post:x}),m=Object(i.createStore)(g,{},Object(l.composeWithDevTools)(Object(i.applyMiddleware)(u.a))),v=c(7),A=c(5),E=c(8),k=c(2),w=c.n(k),y=c(6),D=c(9),S=c.n(D),L=c(13),N=(c(23),function(){return function(){var e=Object(y.a)(w.a.mark((function e(t){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("api/profile/me",{headers:{authorization:localStorage.token}});case 3:c=e.sent,console.log(c.data),t({type:"PROFILE_LOADED",payload:c.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),t({type:"PROFILE_FAILED"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}),R=function(){return function(){var e=Object(y.a)(w.a.mark((function e(t){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("api/auth",{headers:{authorization:localStorage.token}});case 3:c=e.sent,console.log(c.data),t({type:"USER_lOADED",payload:c.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.response.data),t({type:"USER_lOADING_FAILED"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},I=c.p+"static/media/defaultImg.4aa827c3.jpg",P=c.p+"static/media/Spinner.d1ef5b3c.gif",_=c(0),C=function(){return Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("img",{src:P,alt:"Loading..",style:{margin:"auto",display:"block"}})})},T=c(22),M=c.n(T),F=Object(o.b)((function(e){return{posts:e.post,user:e.Auth.user,isLogged:e.Auth.isLogged}}),{deletePost:function(e){return function(){var t=Object(y.a)(w.a.mark((function t(c){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.a.delete("/api/posts/"+e);case 3:c({type:"DELETE_POST",payload:e}),t.next=10;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0),c({type:"POSTS_ERROR"});case 10:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()},UserLoaded:R,getProfile:N,getPosts:function(){return function(){var e=Object(y.a)(w.a.mark((function e(t){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.get("/api/posts");case 3:c=e.sent,console.log(c.data),t({type:"GET_POSTS",payload:c.data}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),t({type:"POSTS_ERROR"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},addPost:function(e){return function(){var t=Object(y.a)(w.a.mark((function t(c){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.a.post("api/posts",e,{headers:{authorization:localStorage.token}});case 3:a=t.sent,c({type:"ADD_POST",payload:a.data}),t.next=11;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0),c({type:"POSTS_ERROR"});case 11:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},toggleLike:function(e){return function(){var t=Object(y.a)(w.a.mark((function t(c){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.a.put("/api/posts/likes/".concat(e),{},{headers:{authorization:localStorage.token}});case 3:a=t.sent,console.log(a.data),c({type:"LIKE_STATUS",payload:{postId:e,likes:a.data}}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),c({type:"POSTS_ERROR"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.UserLoaded,c=e.getProfile,n=e.getPosts,r=e.addPost,s=e.deletePost,o=e.toggleLike,i=e.posts.posts,l=e.user,u=e.isLogged;Object(a.useEffect)((function(){t(),c(),n()}),[n]);var j=Object(a.useState)(""),b=Object(E.a)(j,2),d=b[0],p=b[1];return Object(_.jsx)("div",{className:"container",children:Object(_.jsx)("div",{className:"Posts",children:i?Object(_.jsxs)(_.Fragment,{children:[u&&Object(_.jsx)("div",{className:"WriteNewPost",children:Object(_.jsxs)("form",{onSubmit:function(e){e.preventDefault(),console.log({text:d}),r({text:d}),n(),p("")},children:[Object(_.jsx)("input",{value:d,onChange:function(e){return p(e.target.value)},placeholder:"Share Your thoughts"}),Object(_.jsx)("button",{children:"Post"})]})}),i.map((function(e){return Object(_.jsxs)("div",{className:"post",children:[e.user.image?Object(_.jsx)("img",{src:"http://localhost:4000/".concat(e.user.image),alt:"user"}):Object(_.jsx)("img",{src:I,alt:"default"}),Object(_.jsxs)("div",{children:[Object(_.jsx)(v.b,{to:"/profile/".concat(e.user._id),style:{color:"black",textDecoration:"none"},children:Object(_.jsx)("h3",{children:e.name})}),Object(_.jsx)("small",{children:Object(_.jsx)(M.a,{format:"YYYY/MM/DD",children:e.date})}),Object(_.jsx)("p",{children:e.text}),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("span",{onClick:function(){return o(e._id)},style:{cursor:"pointer"},children:[Object(_.jsx)("i",{className:"fas fa-heart"})," "]}),Object(_.jsx)("span",{children:e.likes.length>0?e.likes.length:""})]}),Object(_.jsxs)(v.b,{to:"/post/".concat(e._id),style:{color:"black",textDecoration:"none",margin:"1rem"},children:[Object(_.jsxs)("span",{children:[Object(_.jsx)("i",{className:"fas fa-comment"})," "]}),Object(_.jsx)("span",{children:e.comments.length>0?e.comments.length:""})]}),l&&l._id===e.user._id&&Object(_.jsx)("button",{onClick:function(){return s(e._id)},children:Object(_.jsxs)("span",{children:[Object(_.jsx)("i",{className:"fas fa-trash"})," Delete"]})})]})]},e._id)}))]}):Object(_.jsx)(C,{})})})})),B=Object(o.b)((function(e){return{isLogged:e.Auth.isLogged,profile:e.profile.profile}}),{login:function(e){var t=e.email,c=e.password;return function(){var e=Object(y.a)(w.a.mark((function e(a){var n,r,s;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={email:t,password:c},e.prev=1,e.next=4,S.a.post("api/auth/login",n);case 4:r=e.sent,a({type:"LOGIN_SUCCESS",payload:r.data}),Object(L.b)("Welcome back!"),console.log(r.data),a(R()),a(N()),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0.response.data),(s=e.t0.response.data.errors)?s.forEach((function(e){return alert(e.msg)})):(console.log(e.t0.response.statusText),L.b.error(e.t0.response.statusText)),a({type:"LOGIN_FAIL"});case 18:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()},UserLoaded:R})((function(e){var t=Object(a.useState)(""),c=Object(E.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(""),o=Object(E.a)(s,2),i=o[0],l=o[1],u=function(){var t=Object(y.a)(w.a.mark((function t(c){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.next=3,e.login({email:n,password:i});case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(a.useEffect)((function(){e.UserLoaded()}),[]),e.isLogged?Object(_.jsx)(A.a,{to:"/profile"}):Object(_.jsx)("div",{className:"login p-5",children:Object(_.jsxs)("div",{className:"row",children:[Object(_.jsx)("div",{className:"col-12",children:Object(_.jsxs)("form",{onSubmit:u,children:[Object(_.jsx)(v.b,{to:"/",style:{color:"#BD5B5B",margin:"1rem"},children:Object(_.jsx)("h1",{children:"HOME"})}),Object(_.jsx)("label",{children:"Email:"}),Object(_.jsx)("input",{type:"email",required:!0,value:n,onChange:function(e){return r(e.target.value)}}),Object(_.jsx)("label",{children:"Password:"}),Object(_.jsx)("input",{type:"password",required:!0,value:i,onChange:function(e){return l(e.target.value)}}),Object(_.jsx)("button",{children:" Log in"}),Object(_.jsxs)("p",{children:["Don't Have an account?",Object(_.jsx)(v.b,{to:"register",style:{color:"#BD5B5B"},children:"Register"})]})]})}),Object(_.jsx)("div",{className:"col"})]})})})),U=Object(o.b)((function(e){return{isLogged:e.Auth.isLogged}}),{register:function(e){var t=e.username,c=e.email,a=e.password,n=e.gender;return function(){var e=Object(y.a)(w.a.mark((function e(r){var s,o,i;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={username:t,email:c,password:a,gender:n},e.prev=1,e.next=4,S.a.post("api/users/register",s);case 4:o=e.sent,r({type:"REGISTER_SUCCESS",payload:o.data}),L.b.success("Welcome aboard!"),console.log(o.data),r(R()),r(N()),e.next=18;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0.response.data),(i=e.t0.response.data.errors)?i.forEach((function(e){return alert(e.msg)})):(console.log(e.t0.response.statusText),L.b.error(e.t0.response.statusText)),r({type:"REGISTER_FAIL"});case 18:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=Object(a.useState)(""),c=Object(E.a)(t,2),n=c[0],r=c[1],s=Object(a.useState)(""),o=Object(E.a)(s,2),i=o[0],l=o[1],u=Object(a.useState)(""),j=Object(E.a)(u,2),b=j[0],d=j[1],p=Object(a.useState)("Female"),O=Object(E.a)(p,2),h=O[0],f=O[1];return e.isLogged?Object(_.jsx)(A.a,{to:"/profile"}):Object(_.jsx)("div",{className:"register ",children:Object(_.jsxs)("div",{className:"row",children:[Object(_.jsx)("div",{className:"col-12",children:Object(_.jsxs)("form",{onSubmit:function(t){t.preventDefault(),e.register({username:n,email:i,password:b,gender:h})},children:[Object(_.jsx)(v.b,{to:"/",style:{color:"#BD5B5B",margin:"1rem"},children:Object(_.jsx)("h1",{children:"HOME"})}),Object(_.jsx)("label",{children:"Name:"}),Object(_.jsx)("input",{type:"text",required:!0,value:n,onChange:function(e){return r(e.target.value)}}),Object(_.jsx)("label",{children:"Email:"}),Object(_.jsx)("input",{type:"email",required:!0,value:i,onChange:function(e){return l(e.target.value)}}),Object(_.jsx)("label",{children:"Password:"}),Object(_.jsx)("input",{type:"password",required:!0,value:b,onChange:function(e){return d(e.target.value)}}),Object(_.jsx)("label",{children:"Gender:"}),Object(_.jsxs)("select",{value:h,onChange:function(e){return f(e.target.value)},children:[Object(_.jsx)("option",{value:"Female",children:" Female "}),Object(_.jsx)("option",{value:"Male",children:"Male"})]}),Object(_.jsx)("button",{children:" Register"}),Object(_.jsxs)("p",{children:["Have an account?",Object(_.jsxs)(v.b,{to:"login",style:{color:"#BD5B5B"},children:[" ","Sign in"]})]})]})}),Object(_.jsx)("div",{className:"col"})]})})})),K=Object(o.b)((function(e){return{isLogged:e.Auth.isLogged}}),{logout:function(){return function(e){e({type:"LOGOUT"})}}})((function(e){var t=e.isLogged,c=e.logout,a=Object(_.jsxs)("div",{children:[Object(_.jsx)(v.b,{to:"/",children:"Home"}),Object(_.jsx)(v.b,{to:"/login",children:"Login"}),Object(_.jsx)(v.b,{to:"/register",children:"Register"})]}),n=Object(_.jsxs)("div",{children:[Object(_.jsx)(v.b,{to:"/",className:"home",children:"Home"}),Object(_.jsx)(v.b,{to:"/profile",className:"profile",children:"Profile"}),Object(_.jsx)(v.b,{to:"/",onClick:function(){return c()},className:"logout",children:"Logout"})]});return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"nav",children:[Object(_.jsx)("nav",{children:t?n:a}),Object(_.jsx)("img",{src:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAEAAAAAAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCAAGAOcDASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD9IKKKK+kPHCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA/9k=",alt:"color"})]})})})),G=Object(o.b)((function(e){return{isLogged:e.Auth.isLogged,userProfile:e.profile.profile,user:e.Auth.user}}),{getProfile:N,updateProfile:function(e){return function(){var t=Object(y.a)(w.a.mark((function t(c){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.a.post("api/profile",e,{headers:{authorization:localStorage.token}});case 3:a=t.sent,console.log(a.data),c({type:"PROFILE_LOADED",payload:a.data}),L.b.success("profile updated successfully"),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(0),console.log(t.t0),c({type:"PROFILE_FAILED"});case 13:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},deleteProfile:function(){return function(){var e=Object(y.a)(w.a.mark((function e(t){return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,S.a.delete("/api/profile",{headers:{authorization:localStorage.token}});case 3:t({type:"DELETE_PROFILE"}),L.b.info("profile deleted"),t({type:"LOGOUT"}),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0),t({type:"DELETE_PROFILE_FAILED"});case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},uploadImg:function(e){return function(){var t=Object(y.a)(w.a.mark((function t(c){return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:fetch("api/users/img",{method:"POST",body:e,headers:{authorization:localStorage.token}}).then((function(e){return e.json()})).then((function(e){console.log("Success:",e),c({type:"IMG_LOADED",payload:e.data}),c(R()),L.b.success("Image updated successfully")})).catch((function(e){console.log(e),L.b.error("Image upload failed, Please try again")}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},UserLoaded:R})((function(e){var t=e.isLogged,n=e.userProfile,r=e.user,s=(e.UserLoaded,e.getProfile),o=e.updateProfile,i=e.deleteProfile,l=e.uploadImg,u=Object(a.useState)(""),j=Object(E.a)(u,2),b=j[0],d=j[1],p=Object(a.useState)(""),O=Object(E.a)(p,2),h=O[0],f=O[1],x=Object(a.useState)(""),g=Object(E.a)(x,2),m=g[0],v=g[1],k=Object(a.useState)(""),D=Object(E.a)(k,2),S=D[0],N=D[1],R=Object(a.useState)(!1),I=Object(E.a)(R,2),P=I[0],T=I[1],M=Object(a.useState)(null),F=Object(E.a)(M,2),B=F[0],U=F[1],G=Object(a.useState)(1),Q=Object(E.a)(G,2),Y=Q[0],H=Q[1];Object(a.useEffect)((function(){var e,t,c;1===Y&&(s(),H(-1)),console.log(n),d(n&&n.bio?n.bio:""),f(n&&(null===(e=n.social)||void 0===e?void 0:e.facebook)?n.social.facebook:""),v(n&&(null===(t=n.social)||void 0===t?void 0:t.linkedin)?n.social.linkedin:""),N(n&&(null===(c=n.social)||void 0===c?void 0:c.github)?n.social.github:"")}),[n]);var q=function(){var e=Object(y.a)(w.a.mark((function e(t){var a;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),a=c(73),!(h&&!a.isUri(h)||m&&!a.isUri(m)||S&&!a.isUri(S))){e.next=6;break}alert("Write valid URL"),e.next=11;break;case 6:return console.log({bio:b,facebook:h,linkedin:m,github:S}),e.next=9,o({bio:b,facebook:h,linkedin:m,github:S});case 9:return e.next=11,T(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(y.a)(w.a.mark((function e(t){var c;return w.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),console.log(t.target.files[0]),U(URL.createObjectURL(t.target.files[0])),(c=new FormData).append("image",t.target.files[0]),l(c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return t?Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{children:[Object(_.jsx)(L.a,{}),Object(_.jsx)(K,{}),null===n||null===r||!1===t?Object(_.jsx)(C,{}):Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"profile m-5",children:[Object(_.jsxs)("div",{className:P?"hidden profileOverview row":"profileOverview row",children:[Object(_.jsxs)("div",{className:"col-9",children:[Object(_.jsxs)("div",{className:"profileImg",children:[Object(_.jsx)("input",{type:"file",accept:"image/*",name:"image",id:"file",style:{display:"none"},onChange:function(e){return W(e)}}),Object(_.jsx)("label",{htmlFor:"file",style:{cursor:"pointer"},children:B?Object(_.jsx)("img",{src:B,alt:"Preview"}):Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("img",{src:"http://localhost:4000/".concat(r.image),alt:"User"})})})]}),Object(_.jsxs)("div",{className:"profileData",children:[Object(_.jsxs)("h1",{children:[r&&r.username,Object(_.jsx)("i",{className:"fas fa-grin-beam-sweat"})]}),Object(_.jsx)("h4",{children:n.bio}),Object(_.jsx)("span",{children:n.social&&n.social.facebook&&Object(_.jsx)("a",{href:n.social.facebook,target:"blank",children:Object(_.jsx)("i",{className:"fab fa-facebook-square fa-lg"})})}),Object(_.jsx)("span",{children:n.social&&n.social.linkedin&&Object(_.jsx)("a",{href:n.social.linkedin,target:"blank",children:Object(_.jsx)("i",{className:"fab fa-linkedin fa-lg"})})}),Object(_.jsx)("span",{children:n.social&&n.social.github&&Object(_.jsx)("a",{href:n.social.github,target:"blank",children:Object(_.jsx)("i",{className:"fab fa-github fa-lg"})})})]})]}),Object(_.jsx)("div",{className:"col-3",children:Object(_.jsxs)("div",{className:"ProfileManagement",children:[Object(_.jsx)("button",{onClick:function(){return T(!0)},className:"Edit",children:"Edit profile"}),Object(_.jsx)("button",{onClick:function(){return i()},className:"Delete",children:"Delete profile"})]})})]}),P&&Object(_.jsx)(_.Fragment,{children:Object(_.jsx)("div",{className:"modal",children:Object(_.jsx)("div",{className:"profileEdit",children:Object(_.jsxs)("form",{onSubmit:q,children:[Object(_.jsxs)("div",{className:"formGroup",children:[Object(_.jsx)("label",{children:"bio:"}),Object(_.jsx)("input",{type:"text",value:b,placeholder:b,onChange:function(e){return d(e.target.value)}})]}),Object(_.jsxs)("div",{className:"formGroup",children:[Object(_.jsx)("label",{children:"facebook:"}),Object(_.jsx)("input",{type:"text",value:h,placeholder:h,onChange:function(e){return f(e.target.value)}})]}),Object(_.jsxs)("div",{className:"formGroup",children:[Object(_.jsx)("label",{children:"linkedin:"}),Object(_.jsx)("input",{type:"text",value:m,placeholder:m,onChange:function(e){return v(e.target.value)}})]}),Object(_.jsxs)("div",{className:"formGroup",children:[Object(_.jsx)("label",{children:"github:"}),Object(_.jsx)("input",{type:"text",value:S,placeholder:S,onChange:function(e){return N(e.target.value)}})]}),Object(_.jsxs)("div",{className:"modalManagement",children:[Object(_.jsx)("button",{children:" Edit"}),Object(_.jsx)("button",{onClick:function(){return T(!1)},children:"Close"})]})]})})})})]})})]})}):Object(_.jsx)(A.a,{to:"/login"})})),Q=function(){return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)("h1",{children:"404"}),Object(_.jsx)("h2",{children:"Not found"})]})},Y=Object(o.b)((function(e){return{user:e.Auth.user,post:e.post}}),{getPost:function(e){return function(){var t=Object(y.a)(w.a.mark((function t(c){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.a.get("/api/posts/".concat(e));case 3:a=t.sent,console.log(a.data),c({type:"GET_POST",payload:a.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),c({type:"POSTS_ERROR"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},addComment:function(e,t){return function(){var c=Object(y.a)(w.a.mark((function c(a){var n;return w.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,S.a.post("/api/posts/comment/".concat(e),t,{headers:{authorization:localStorage.token}});case 3:n=c.sent,console.log(n.data),a({type:"ADD_COMMENT",payload:n.data}),c.next=12;break;case 8:c.prev=8,c.t0=c.catch(0),console.log(c.t0),a({type:"POSTS_ERROR"});case 12:case"end":return c.stop()}}),c,null,[[0,8]])})));return function(e){return c.apply(this,arguments)}}()},deleteComment:function(e,t){return function(){var c=Object(y.a)(w.a.mark((function c(a){return w.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,S.a.delete("/api/posts/comment/".concat(e,"/").concat(t));case 3:a({type:"DELETE_COMMENT",payload:t}),c.next=10;break;case 6:c.prev=6,c.t0=c.catch(0),console.log(c.t0),a({type:"POSTS_ERROR"});case 10:case"end":return c.stop()}}),c,null,[[0,6]])})));return function(e){return c.apply(this,arguments)}}()}})((function(e){var t=e.user,c=e.post.post,n=e.getPost,r=e.addComment,s=e.deleteComment,o=Object(A.g)().id;Object(a.useEffect)((function(){n(o)}),[]);var i=Object(a.useState)(""),l=Object(E.a)(i,2),u=l[0],j=l[1];return Object(_.jsx)(_.Fragment,{children:c&&Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"container posts",children:[Object(_.jsxs)(v.b,{to:"/",children:[Object(_.jsx)("button",{children:"Back To Posts"})," "]}),Object(_.jsxs)("div",{className:"post",children:[Object(_.jsx)("img",{src:"http://localhost:4000/".concat(c.user.image),alt:"user"})," ",Object(_.jsxs)("div",{children:[Object(_.jsx)("h3",{children:c.name}),Object(_.jsx)("small",{children:Object(_.jsx)(M.a,{format:"YYYY/MM/DD",children:c.date})}),Object(_.jsx)("p",{children:c.text})]})]}),c.comments.map((function(e){return Object(_.jsxs)("div",{className:"comment",children:[Object(_.jsx)("img",{src:"http://localhost:4000/".concat(e.image),alt:"user"}),Object(_.jsxs)("div",{children:[Object(_.jsx)("h3",{children:e.name}),Object(_.jsx)("small",{children:Object(_.jsx)(M.a,{format:"YYYY/MM/DD",children:e.date})}),Object(_.jsx)("p",{children:e.text})]}),t&&t._id===e.user&&Object(_.jsx)("button",{onClick:function(){return s(c._id,e._id)},children:Object(_.jsx)("span",{children:Object(_.jsx)("i",{className:"fas fa-times"})})})]},e._id)})),t&&Object(_.jsx)("div",{className:"PostComment",children:Object(_.jsxs)("form",{onSubmit:function(e){e.preventDefault(),r(c._id,{text:u}),j("")},children:[Object(_.jsx)("input",{value:u,onChange:function(e){return j(e.target.value)},placeholder:"add a comment"}),Object(_.jsx)("button",{children:"Comment"})]})})]})})})})),H=Object(o.b)((function(e){return{profile:e.profile.profile}}),{getProfiles:function(e){return function(){var t=Object(y.a)(w.a.mark((function t(c){var a;return w.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S.a.get("/api/profile/user/".concat(e));case 3:a=t.sent,console.log(a.data),c({type:"GET_PROFILES",payload:a.data}),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0),c({type:"PROFILE_FAILED"});case 12:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.profile,c=e.getProfiles,n=Object(A.g)().id;return Object(a.useEffect)((function(){c(n)}),[]),Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(K,{}),t?Object(_.jsx)("div",{className:"profile m-5",children:Object(_.jsx)("div",{className:"profileOverview row",children:Object(_.jsxs)("div",{className:"col-9",children:[Object(_.jsx)("div",{className:"profileImg",children:t.user&&t.user.image&&Object(_.jsx)("img",{src:"http://localhost:4000/".concat(t.user.image),alt:"User"})}),Object(_.jsxs)("div",{className:"profileData",children:[Object(_.jsxs)("h1",{children:[t.user&&t.user.username,Object(_.jsx)("i",{className:"fas fa-grin-beam-sweat"})]}),Object(_.jsx)("h4",{children:t.bio}),Object(_.jsx)("span",{children:t.social&&t.social.facebook&&Object(_.jsx)("a",{href:t.social.facebook,target:"blank",children:Object(_.jsx)("i",{className:"fab fa-facebook-square fa-lg"})})}),Object(_.jsx)("span",{children:t.social&&t.social.linkedin&&Object(_.jsx)("a",{href:t.social.linkedin,target:"blank",children:Object(_.jsx)("i",{className:"fab fa-linkedin fa-lg"})})}),Object(_.jsx)("span",{children:t.social&&t.social.github&&Object(_.jsx)("a",{href:t.social.github,target:"blank",children:Object(_.jsx)("i",{className:"fab fa-github fa-lg"})})})]})]})})}):Object(_.jsx)(C,{})]})}));var q=function(){return Object(_.jsx)(o.a,{store:m,children:Object(_.jsx)(v.a,{children:Object(_.jsx)("div",{className:"App",children:Object(_.jsxs)(A.d,{children:[Object(_.jsxs)(A.b,{path:"/",exact:!0,children:[Object(_.jsx)(K,{}),Object(_.jsx)(F,{})]}),Object(_.jsx)(A.b,{path:"/login",children:Object(_.jsx)(B,{})}),Object(_.jsx)(A.b,{path:"/register",children:Object(_.jsx)(U,{})}),Object(_.jsx)(A.b,{path:"/profile/:id",exact:!0,children:Object(_.jsx)(H,{})}),Object(_.jsx)(A.b,{path:"/profile",exact:!0,children:Object(_.jsx)(G,{})}),Object(_.jsx)(A.b,{path:"/post/:id",children:Object(_.jsx)(Y,{})}),Object(_.jsx)(A.b,{path:"*",children:Object(_.jsx)(Q,{})})]})})})})};s.a.render(Object(_.jsx)(n.a.StrictMode,{children:Object(_.jsx)(q,{})}),document.getElementById("root"))}},[[74,1,2]]]);
//# sourceMappingURL=main.cc43f22a.chunk.js.map